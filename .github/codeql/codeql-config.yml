name: "CodeQL Config"

queries:
  - uses: security-extended
  - uses: security-and-quality
  - uses: ./queries/go

# JavaScript/TypeScriptのパス設定
paths:
  - front

paths-ignore:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/build/**"
  - "**/coverage/**"
  - "**/.next/**"
  - "**/out/**"

query-filters:
  - include:
      tags contain: security
  - exclude:
      tags contain: [deprecated, experimental]

# 言語固有の設定
extraction:
  go:
    build-command: |
      cd back
      go mod download
      go mod tidy
      go build ./...
  javascript:
    paths:
      - front
    trap:
      cache:
        write: true
    build-command: |
      cd front
      pnpm install --frozen-lockfile
      pnpm build
